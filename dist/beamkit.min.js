!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).beamkit={})}(this,function(e){"use strict";const t={};var n,s={addEventListener:(e,n)=>(e in t||(t[e]=[]),t[e].push(n),()=>{t[e].splice(t[e].indexOf(n))}),dispatchEvent(e,...n){e in t&&t[e].forEach(e=>{e(...n)})},clearEventListeners(){for(let e in t)delete t[e]}},o=(function(e){const t=e=>e.replace(/-(\w)/g,(e,t)=>t.toUpperCase());(e.exports=function(e,t,...s){return"function"==typeof e?n(e,t,...s):o(e,t,...s)}).Fragment=((e,...t)=>{const n=document.createDocumentFragment();return r(n,t),n});const n=(e,t,...n)=>e(t,n),o=(e,n,...o)=>{const a=document.createElement(e);if(a.data={},r(a,o),n)for(let e in n){const o=n[e];if(null!=o)if("class"===e)a.className=o.trim();else if("for"===e)a.htmlFor=o.trim();else if("tabindex"===e)a.tabIndex=o;else if("style"===e)for(let e in o)a.style[e]=o[e];else if("data"===e)for(let e in o)o.hasOwnProperty(e)&&(a.data[e]=a.dataset[e]=o[e]);else if(e.startsWith("data-"))e=t(e.slice(5)),a.data[e]=a.dataset[e]=o;else if(e.startsWith("on")&&"string"==typeof o){const t=e,[n,...r]=o.split("."),i=r.includes("prevent"),l=r.includes("stop"),c=r.includes("once"),d=e=>{const o=e.target,{data:r,tagName:d}=o;(i||"FORM"===d)&&e.preventDefault(),l&&e.stopPropagation(),c&&(a[t]=null),"INPUT"===d&&"checkbox"===o.type?r.value=o.checked:null!=o.value&&(r.value=o.value),s.dispatchEvent(n,r,o,e)};a[e]=d}else a[e]=o}return a},a=e=>"object"!=typeof e&&null!=e,r=(e,t)=>{const n=t.length;let s="";for(let o=0;o<n;o++){const n=t[o];s&&!a(n)&&(e.appendChild(document.createTextNode(s)),s=""),n instanceof HTMLElement||n instanceof DocumentFragment?e.appendChild(n):Array.isArray(n)?r(e,n):a(n)&&(s=(s+" "+n).trim())}s&&e.appendChild(document.createTextNode(s))}}(n={exports:{}},n.exports),n.exports);const a=e=>e.json(),r=[],i=async(e,t,n,s)=>{void 0===s&&(s=n,n={});const o=n.data,i=n.ignorePlugins||[];n={method:e,headers:{...n.headers}},s.convert=s.convert||a,o&&("GET"===e?t+="?"+(e=>{const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(`${n}=${encodeURIComponent(e[n])}`);return t.join("&")})(o):(n.body=JSON.stringify(o),n.headers={"Content-Type":"application/json"}));let l=(e,t)=>fetch(e,t);r.forEach(e=>{i.indexOf(e.key)>-1||(l=e(l))});try{const e=await l(t,n);204===e.status?(s.on204||s.ok)(null,204,e):200===e.status?(s.on200||s.ok)(await s.convert(e),200,e):e.status>=400?(s["on"+e.status]||s.err)(await s.convert(e),e.status,e):(s["on"+e.status]||s.other||s.err)(null,e.status,e)}catch(e){s.err(e,0)}};var l=i.bind(null,"GET"),c=i.bind(null,"POST"),d=i.bind(null,"PUT"),u=i.bind(null,"DELETE"),f={h:o,hub:s,localHub:()=>{const e=[],t={dispatchEvent:s.dispatchEvent,addEventListener(t,n){e.push(s.addEventListener(t,n))},destroy(){e.forEach(e=>e()),e.length=0}};return t.addEventListener("module-destroy",t.destroy),t},xhr:{GET:l,POST:c,PUT:d,DELETE:u,addPlugin:e=>r.push(e),clearPlugins:()=>r.length=0}},p=f.h,h=f.hub,m=f.localHub,v=f.xhr;e.default=f,e.h=p,e.hub=h,e.localHub=m,e.xhr=v,Object.defineProperty(e,"__esModule",{value:!0})});
